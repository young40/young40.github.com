<!DOCTYPE html>
<html lang="zh-cn">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=8077&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>2d-x深读2:CCPlatformMacros.h - 杨世玲的博客</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="" /><meta name="description" content=" 路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/include/ccConfig.h 路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/platform/mac/CCPlatformDefine.h //注意我是以mac平台研究的, 其他平台略有不同 路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/platform/CCPlatformMacros.h " /><meta name="keywords" content="gamedev, cocos, unity, game, unreal" />






<meta name="generator" content="Hugo 0.147.0 with theme even" />


<link rel="canonical" href="http://localhost:8077/post/2012-12-17-cocos2d-x-source-code-research-2-ccplatformmacros-dot-h/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:url" content="http://localhost:8077/post/2012-12-17-cocos2d-x-source-code-research-2-ccplatformmacros-dot-h/">
  <meta property="og:site_name" content="杨世玲的博客">
  <meta property="og:title" content="2d-x深读2:CCPlatformMacros.h">
  <meta property="og:description" content="路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/include/ccConfig.h 路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/platform/mac/CCPlatformDefine.h //注意我是以mac平台研究的, 其他平台略有不同 路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/platform/CCPlatformMacros.h">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2012-12-17T01:49:00+08:00">
    <meta property="article:modified_time" content="2012-12-17T01:49:00+08:00">

  <meta itemprop="name" content="2d-x深读2:CCPlatformMacros.h">
  <meta itemprop="description" content="路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/include/ccConfig.h 路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/platform/mac/CCPlatformDefine.h //注意我是以mac平台研究的, 其他平台略有不同 路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/platform/CCPlatformMacros.h">
  <meta itemprop="datePublished" content="2012-12-17T01:49:00+08:00">
  <meta itemprop="dateModified" content="2012-12-17T01:49:00+08:00">
  <meta itemprop="wordCount" content="3075">
  <meta itemprop="keywords" content="Cocos2d-X,Cocos2d-X 源代码研究">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="2d-x深读2:CCPlatformMacros.h">
  <meta name="twitter:description" content="路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/include/ccConfig.h 路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/platform/mac/CCPlatformDefine.h //注意我是以mac平台研究的, 其他平台略有不同 路径:cocos2d-2.1beta3-x-2.1.0/cocos2dx/platform/CCPlatformMacros.h">

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

<script>
  MathJax = {
    tex: {
	inlineMath: [["$", "$"]]
    },
    displayMath: [
      ["$$", "$$"],
      
    ],
    svg: {
      fontCache: "global",
    },
  };
</script>

<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">杨世玲的博客</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">杨世玲的博客</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">分类</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">2d-x深读2:CCPlatformMacros.h</h1>

      <div class="post-meta">
        <span class="post-time"> 2012-12-17 </span>
        <div class="post-category">
            <a href="/categories/cocos2d-x/"> Cocos2d-x </a>
            <a href="/categories/cocos2d-x-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%A0%94%E7%A9%B6/"> Cocos2d-x 源代码研究 </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents"></nav>
  </div>
</div>
    <div class="post-content">
      <ul>
<li>路径:<code>cocos2d-2.1beta3-x-2.1.0/cocos2dx/include/ccConfig.h</code></li>
<li>路径:<code>cocos2d-2.1beta3-x-2.1.0/cocos2dx/platform/mac/CCPlatformDefine.h</code> //注意我是以mac平台研究的, 其他平台略有不同</li>
<li>路径:<code>cocos2d-2.1beta3-x-2.1.0/cocos2dx/platform/CCPlatformMacros.h</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&#34;platform/CCPlatformConfig.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//设置为1后会include CCPhysicsScript 和 CCPhysicsDebugNode 添加到物理引擎支持
</span></span></span><span class="line"><span class="cl"><span class="c1">//需要保证Chipmunk在搜索路径中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#ifndef CC_ENABLE_CHIPMUNK_INTEGRATION
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_ENABLE_CHIPMUNK_INTEGRATION 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//设置为1后会include CCPhysicsScript 添加到Box2D的支持
</span></span></span><span class="line"><span class="cl"><span class="c1">//同样需要保证Box2D会在搜索路径中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#ifndef CC_ENABLE_BOX2D_INTEGRATION
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_ENABLE_BOX2D_INTEGRATION 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/** 
</span></span></span><span class="line"><span class="cl"><span class="cm"> 设置为1后,2d学会维护一个OpenGL状态缓存来避免不必要的切换
</span></span></span><span class="line"><span class="cl"><span class="cm"> 为了使用这个功能,需要用下列函数来替换GL的对应函数
</span></span></span><span class="line"><span class="cl"><span class="cm">    - ccGLUseProgram() instead of glUseProgram()
</span></span></span><span class="line"><span class="cl"><span class="cm">    - ccGLDeleteProgram() instead of glDeleteProgram()
</span></span></span><span class="line"><span class="cl"><span class="cm">    - ccGLBlendFunc() instead of glBlendFunc()
</span></span></span><span class="line"><span class="cl"><span class="cm">如果这个功能被禁止, 那么这些函数会直接调用对应的GL函数, 当然就没有缓存了
</span></span></span><span class="line"><span class="cl"><span class="cm">打开这个功能能提高速度
</span></span></span><span class="line"><span class="cl"><span class="cm">如果你的代码是从GL ES 1.1升级过来的, 保持这个功能被禁用. 如果各种功能正常的话, 你可以启用这个功能
</span></span></span><span class="line"><span class="cl"><span class="cm">#ifndef CC_ENABLE_GL_STATE_CACHE
</span></span></span><span class="line"><span class="cl"><span class="cm">#define CC_ENABLE_GL_STATE_CACHE 1
</span></span></span><span class="line"><span class="cl"><span class="cm">#endif
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">启用后,纹理的坐标会用这个公式来计算
</span></span></span><span class="line"><span class="cl"><span class="cm">- texCoord.left = (rect.origin.x*2+1) / (texture.wide*2);
</span></span></span><span class="line"><span class="cl"><span class="cm">- texCoord.right = texCoord.left + (rect.size.width*2-2)/(texture.wide*2);
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">The same for bottom and top.
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">This formula prevents artifacts by using 99% of the texture.
</span></span></span><span class="line"><span class="cl"><span class="cm">The &#34;correct&#34; way to prevent artifacts is by using the spritesheet-artifact-fixer.py or a similar tool.
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">受影响的类:
</span></span></span><span class="line"><span class="cl"><span class="cm">- CCSprite / CCSpriteBatchNode and subclasses: CCLabelBMFont, CCTMXTiledMap
</span></span></span><span class="line"><span class="cl"><span class="cm">- CCLabelAtlas
</span></span></span><span class="line"><span class="cl"><span class="cm">- CCQuadParticleSystem
</span></span></span><span class="line"><span class="cl"><span class="cm">- CCTileMap
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef CC_FIX_ARTIFACTS_BY_STRECHING_TEXEL
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_FIX_ARTIFACTS_BY_STRECHING_TEXEL 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//默认0.5秒, 更新下FPS的数据. 数字越大FPS数据越可靠.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#ifndef CC_DIRECTOR_STATS_INTERVAL
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_DIRECTOR_STATS_INTERVAL (0.5f)
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//FPS数据显示位置,默认左下
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#ifndef CC_DIRECTOR_FPS_POSITION
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_DIRECTOR_FPS_POSITION ccp(0,0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/** @def CC_DIRECTOR_DISPATCH_FAST_EVENTS
</span></span></span><span class="line"><span class="cl"><span class="cm"> If enabled, and only when it is used with CCFastDirector, the main loop will wait 0.04 seconds to
</span></span></span><span class="line"><span class="cl"><span class="cm"> dispatch all the events, even if there are not events to dispatch.
</span></span></span><span class="line"><span class="cl"><span class="cm"> If your game uses lot&#39;s of events (eg: touches) it might be a good idea to enable this feature.
</span></span></span><span class="line"><span class="cl"><span class="cm"> Otherwise, it is safe to leave it disabled.
</span></span></span><span class="line"><span class="cl"><span class="cm"> 
</span></span></span><span class="line"><span class="cl"><span class="cm"> To enable set it to 1. Disabled by default.
</span></span></span><span class="line"><span class="cl"><span class="cm"> 
</span></span></span><span class="line"><span class="cl"><span class="cm"> @warning This feature is experimental
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef CC_DIRECTOR_DISPATCH_FAST_EVENTS
</span></span></span><span class="line"><span class="cl"><span class="cp"></span> <span class="cp">#define CC_DIRECTOR_DISPATCH_FAST_EVENTS 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/** @def CC_DIRECTOR_MAC_USE_DISPLAY_LINK_THREAD
</span></span></span><span class="line"><span class="cl"><span class="cm">If enabled, cocos2d-mac will run on the Display Link thread. If disabled cocos2d-mac will run in its own thread.
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">If enabled, the images will be drawn at the &#34;correct&#34; time, but the events might not be very responsive.
</span></span></span><span class="line"><span class="cl"><span class="cm">If disabled, some frames might be skipped, but the events will be dispatched as they arrived.
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">To enable set it to a 1, to disable it set to 0. Enabled by default.
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">Only valid for cocos2d-mac. Not supported on cocos2d-ios.
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef CC_DIRECTOR_MAC_USE_DISPLAY_LINK_THREAD
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_DIRECTOR_MAC_USE_DISPLAY_LINK_THREAD 1
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/** @def CC_NODE_RENDER_SUBPIXEL
</span></span></span><span class="line"><span class="cl"><span class="cm"> If enabled, the CCNode objects (CCSprite, CCLabel,etc) will be able to render in subpixels.
</span></span></span><span class="line"><span class="cl"><span class="cm"> If disabled, integer pixels will be used.
</span></span></span><span class="line"><span class="cl"><span class="cm"> 
</span></span></span><span class="line"><span class="cl"><span class="cm"> To enable set it to 1. Enabled by default.
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef CC_NODE_RENDER_SUBPIXEL
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_NODE_RENDER_SUBPIXEL 1
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/** @def CC_SPRITEBATCHNODE_RENDER_SUBPIXEL
</span></span></span><span class="line"><span class="cl"><span class="cm"> If enabled, the CCSprite objects rendered with CCSpriteBatchNode will be able to render in subpixels.
</span></span></span><span class="line"><span class="cl"><span class="cm"> If disabled, integer pixels will be used.
</span></span></span><span class="line"><span class="cl"><span class="cm"> 
</span></span></span><span class="line"><span class="cl"><span class="cm"> To enable set it to 1. Enabled by default.
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef CC_SPRITEBATCHNODE_RENDER_SUBPIXEL
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_SPRITEBATCHNODE_RENDER_SUBPIXEL    1
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/** @def CC_TEXTURE_ATLAS_USE_TRIANGLE_STRIP
</span></span></span><span class="line"><span class="cl"><span class="cm"> Use GL_TRIANGLE_STRIP instead of GL_TRIANGLES when rendering the texture atlas.
</span></span></span><span class="line"><span class="cl"><span class="cm"> It seems it is the recommend way, but it is much slower, so, enable it at your own risk
</span></span></span><span class="line"><span class="cl"><span class="cm"> 
</span></span></span><span class="line"><span class="cl"><span class="cm"> To enable set it to a value different than 0. Disabled by default.
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef CC_TEXTURE_ATLAS_USE_TRIANGLE_STRIP
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_TEXTURE_ATLAS_USE_TRIANGLE_STRIP 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//VAO定点数组对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cm">/** @def CC_TEXTURE_ATLAS_USE_VAO
</span></span></span><span class="line"><span class="cl"><span class="cm"> By default, CCTextureAtlas (used by many cocos2d classes) will use VAO (Vertex Array Objects).
</span></span></span><span class="line"><span class="cl"><span class="cm"> Apple recommends its usage but they might consume a lot of memory, specially if you use many of them.
</span></span></span><span class="line"><span class="cl"><span class="cm"> So for certain cases, where you might need hundreds of VAO objects, it might be a good idea to disable it.
</span></span></span><span class="line"><span class="cl"><span class="cm"> 
</span></span></span><span class="line"><span class="cl"><span class="cm"> To disable it set it to 0. Enabled by default.
</span></span></span><span class="line"><span class="cl"><span class="cm"> 
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef CC_TEXTURE_ATLAS_USE_VAO
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#if (CC_TARGET_PLATFORM == CC_PLATFORM_IOS) || (CC_TARGET_PLATFORM == CC_PLATFORM_MAC)
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>        <span class="cp">#define CC_TEXTURE_ATLAS_USE_VAO 1
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#else
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>        <span class="cm">/* Some Windows display adapter driver cannot support VAO. */</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* Some android devices cannot support VAO very well, so we disable it by default for android platform. */</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* Blackberry also doesn&#39;t support this feature. */</span>
</span></span><span class="line"><span class="cl">		<span class="cp">#define CC_TEXTURE_ATLAS_USE_VAO 0
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/** @def CC_USE_LA88_LABELS
</span></span></span><span class="line"><span class="cl"><span class="cm"> If enabled, it will use LA88 (Luminance Alpha 16-bit textures) for CCLabelTTF objects.
</span></span></span><span class="line"><span class="cl"><span class="cm"> If it is disabled, it will use A8 (Alpha 8-bit textures).
</span></span></span><span class="line"><span class="cl"><span class="cm"> LA88 textures are 6% faster than A8 textures, but they will consume 2x memory.
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm"> This feature is enabled by default.
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm"> @since v0.99.5
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef CC_USE_LA88_LABELS
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_USE_LA88_LABELS 1
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">  启用后,所有CCSprite的子类都会花上一个边框,方便调试
</span></span></span><span class="line"><span class="cl"><span class="cm"> 0 -- disabled
</span></span></span><span class="line"><span class="cl"><span class="cm"> 1 -- draw bounding box
</span></span></span><span class="line"><span class="cl"><span class="cm"> 2 -- draw texture box
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef CC_SPRITE_DEBUG_DRAW
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_SPRITE_DEBUG_DRAW 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//CCSpriteBatchNode的调试用加边框
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#ifndef CC_SPRITEBATCHNODE_DEBUG_DRAW
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_SPRITEBATCHNODE_DEBUG_DRAW 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//CCLabelBMFont调试加边框
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#ifndef CC_LABELBMFONT_DEBUG_DRAW
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_LABELBMFONT_DEBUG_DRAW 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//LabeltAtlas调试加边框
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#ifndef CC_LABELATLAS_DEBUG_DRAW
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_LABELATLAS_DEBUG_DRAW 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/** @def CC_ENABLE_PROFILERS
</span></span></span><span class="line"><span class="cl"><span class="cm"> If enabled, will activate various profilers within cocos2d. This statistical data will be output to the console
</span></span></span><span class="line"><span class="cl"><span class="cm"> once per second showing average time (in milliseconds) required to execute the specific routine(s).
</span></span></span><span class="line"><span class="cl"><span class="cm"> Useful for debugging purposes only. It is recommended to leave it disabled.
</span></span></span><span class="line"><span class="cl"><span class="cm"> 
</span></span></span><span class="line"><span class="cl"><span class="cm"> To enable set it to a value different than 0. Disabled by default.
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef CC_ENABLE_PROFILERS
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_ENABLE_PROFILERS 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/** Enable Lua engine debug log */</span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef CC_LUA_ENGINE_DEBUG
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_LUA_ENGINE_DEBUG 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;assert.h&gt;</span><span class="cp"> </span><span class="c1">//引入assert
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define CC_DLL </span><span class="c1">//CC_DLL只在win32平台下有效
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#if CC_DISABLE_ASSERT &gt; 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_ASSERT(cond) </span><span class="c1">//禁用了assert
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#else
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_ASSERT(cond) assert(cond) </span><span class="c1">//启用了assert
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define CC_UNUSED_PARAM(unusedparam) (void)unusedparam
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//定义空指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#ifndef NULL
</span></span></span><span class="line"><span class="cl"><span class="cp">#ifdef __cplusplus
</span></span></span><span class="line"><span class="cl"><span class="cp">#define NULL    0
</span></span></span><span class="line"><span class="cl"><span class="cp">#else
</span></span></span><span class="line"><span class="cl"><span class="cp">#define NULL    ((void *)0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>我们可以看到win32中不同的部分比如<code>CC_DLL</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#if defined(_USRDLL)
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define CC_DLL     __declspec(dllexport)
</span></span></span><span class="line"><span class="cl"><span class="cp">#else         </span><span class="cm">/* use a DLL library */</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define CC_DLL     __declspec(dllimport)
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Linux部分也是<code>CC_DLL</code>不同</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#if defined(_USRDLL)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_DLL __attribute__ ((visibility (&#34;default&#34;)))
</span></span></span><span class="line"><span class="cl"><span class="cp">#else         </span><span class="cm">/* use a DLL library */</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_DLL __attribute__ ((visibility (&#34;default&#34;)))
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Android中比较不同的部分是<code>CC_ASSERT</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#define CC_ASSERT(cond) \
</span></span></span><span class="line"><span class="cl"><span class="cp">if (! (cond)) \
</span></span></span><span class="line"><span class="cl"><span class="cp">{ \
</span></span></span><span class="line"><span class="cl"><span class="cp">    char content[256]; \
</span></span></span><span class="line"><span class="cl"><span class="cp">    sprintf(content, &#34;%s function:%s line:%d&#34;, __FILE__, __FUNCTION__, __LINE__);  \
</span></span></span><span class="line"><span class="cl"><span class="cp">    CCMessageBox(content, &#34;Assert error&#34;); \
</span></span></span><span class="line"><span class="cl"><span class="cp">}
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>我们最后再来看下<code>CCPlatformMacros.h</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&#34;ccConfig.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&#34;CCPlatformConfig.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&#34;CCPlatformDefine.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//CREATE_FUNC是2d-x的一个核心功能,一般采用例如`MySpriter *my = MySpriter::create()`的形式调用.
</span></span></span><span class="line"><span class="cl"><span class="c1">//这里的create()成员函数即是由CREATE_FUNC创建, 来达到让2d-x来管理内存分配的功能
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define CREATE_FUNC(__TYPE__) \
</span></span></span><span class="line"><span class="cl"><span class="cp">static __TYPE__* create() \
</span></span></span><span class="line"><span class="cl"><span class="cp">{ \
</span></span></span><span class="line"><span class="cl"><span class="cp">    __TYPE__ *pRet = new __TYPE__(); \
</span></span></span><span class="line"><span class="cl"><span class="cp">    if (pRet &amp;&amp; pRet-&gt;init()) \
</span></span></span><span class="line"><span class="cl"><span class="cp">    { \
</span></span></span><span class="line"><span class="cl"><span class="cp">        pRet-&gt;autorelease(); \
</span></span></span><span class="line"><span class="cl"><span class="cp">        return pRet; \
</span></span></span><span class="line"><span class="cl"><span class="cp">    } \
</span></span></span><span class="line"><span class="cl"><span class="cp">    else \
</span></span></span><span class="line"><span class="cl"><span class="cp">    { \
</span></span></span><span class="line"><span class="cl"><span class="cp">        delete pRet; \
</span></span></span><span class="line"><span class="cl"><span class="cp">        pRet = NULL; \
</span></span></span><span class="line"><span class="cl"><span class="cp">        return NULL; \
</span></span></span><span class="line"><span class="cl"><span class="cp">    } \
</span></span></span><span class="line"><span class="cl"><span class="cp">}
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="c1">//早期版本还有一个NODE_FUNC完成和CREATE_FUNC一样的功能,已经废弃,不再讨论
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//CC_ENABLE_CACHE_TEXTURE_DATA 只在Android上启用, 会缓存纹理
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#if (CC_TARGET_PLATFORM == CC_PLATFORM_ANDROID)
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define CC_ENABLE_CACHE_TEXTURE_DATA       1
</span></span></span><span class="line"><span class="cl"><span class="cp">#else
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define CC_ENABLE_CACHE_TEXTURE_DATA       0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#if (CC_TARGET_PLATFORM == CC_PLATFORM_ANDROID) || (CC_TARGET_PLATFORM == CC_PLATFORM_WIN32)
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="c1">//重新绑定indices, 避免在android和win32下glDrawElements函数crash的bug
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="cp">#define CC_REBIND_INDICES_BUFFER  1
</span></span></span><span class="line"><span class="cl"><span class="cp">#else
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define CC_REBIND_INDICES_BUFFER  0
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//常用宏定义
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#ifdef __cplusplus </span><span class="c1">//namespace只在C++中起作用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="cp">#define NS_CC_BEGIN                     namespace cocos2d {
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define NS_CC_END                       }
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define USING_NS_CC                     using namespace cocos2d  </span><span class="c1">//应该尽量使用USING_NS_CC, 兼容性更好
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#else
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define NS_CC_BEGIN 
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define NS_CC_END 
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define USING_NS_CC 
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif 
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//成员函数快捷声明/定义宏
</span></span></span><span class="line"><span class="cl"><span class="c1">//多使用这些宏, 可以方便地定义出合乎面向对象原则的成员变量.
</span></span></span><span class="line"><span class="cl"><span class="c1">//需要注意的是这些调用了这些宏之后, 应该养成重新写public, private等标号的习惯. 因为之后的都会变成public
</span></span></span><span class="line"><span class="cl"><span class="c1">//定义的成员变量都是protected的
</span></span></span><span class="line"><span class="cl"><span class="c1">//只读的成员变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define CC_PROPERTY_READONLY(varType, varName, funName)\
</span></span></span><span class="line"><span class="cl"><span class="cp">protected: varType varName;\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual varType get##funName(void);
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//getter是为引用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define CC_PROPERTY_READONLY_PASS_BY_REF(varType, varName, funName)\
</span></span></span><span class="line"><span class="cl"><span class="cp">protected: varType varName;\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual const varType&amp; get##funName(void);
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//可读可写成员变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define CC_PROPERTY(varType, varName, funName)\
</span></span></span><span class="line"><span class="cl"><span class="cp">protected: varType varName;\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual varType get##funName(void);\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual void set##funName(varType var);
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define CC_PROPERTY_PASS_BY_REF(varType, varName, funName)\
</span></span></span><span class="line"><span class="cl"><span class="cp">protected: varType varName;\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual varType get##funName(void);\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual void set##funName(const varType&amp; var);
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//以上的getter,setter只有声明, 下面的这些带有定义
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define CC_SYNTHESIZE_READONLY(varType, varName, funName)\
</span></span></span><span class="line"><span class="cl"><span class="cp">protected: varType varName;\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual varType get##funName(void) const { return varName; }
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define CC_SYNTHESIZE_READONLY_PASS_BY_REF(varType, varName, funName)\
</span></span></span><span class="line"><span class="cl"><span class="cp">protected: varType varName;\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual const varType&amp; get##funName(void) const { return varName; }
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define CC_SYNTHESIZE(varType, varName, funName)\
</span></span></span><span class="line"><span class="cl"><span class="cp">protected: varType varName;\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual varType get##funName(void) const { return varName; }\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual void set##funName(varType var){ varName = var; }
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define CC_SYNTHESIZE_PASS_BY_REF(varType, varName, funName)\
</span></span></span><span class="line"><span class="cl"><span class="cp">protected: varType varName;\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual varType get##funName(void) const { return varName; }\
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual void set##funName(const varType&amp; var){ varName = var; }
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//setter中会retain一次var, 防止被gc回收.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define CC_SYNTHESIZE_RETAIN(varType, varName, funName)    \
</span></span></span><span class="line"><span class="cl"><span class="cp">private: varType varName; \
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual varType get##funName(void) const { return varName; } \
</span></span></span><span class="line"><span class="cl"><span class="cp">public: virtual void set##funName(varType var)   \
</span></span></span><span class="line"><span class="cl"><span class="cp">{ \
</span></span></span><span class="line"><span class="cl"><span class="cp">    if (varName != var) \
</span></span></span><span class="line"><span class="cl"><span class="cp">    { \
</span></span></span><span class="line"><span class="cl"><span class="cp">        CC_SAFE_RETAIN(var); \
</span></span></span><span class="line"><span class="cl"><span class="cp">        CC_SAFE_RELEASE(varName); \
</span></span></span><span class="line"><span class="cl"><span class="cp">        varName = var; \
</span></span></span><span class="line"><span class="cl"><span class="cp">    } \
</span></span></span><span class="line"><span class="cl"><span class="cp">} 
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define CC_SAFE_DELETE(p)            do { if(p) { delete (p); (p) = 0; } } while(0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_SAFE_DELETE_ARRAY(p)     do { if(p) { delete[] (p); (p) = 0; } } while(0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_SAFE_FREE(p)                do { if(p) { free(p); (p) = 0; } } while(0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_SAFE_RELEASE(p)            do { if(p) { (p)-&gt;release(); } } while(0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_SAFE_RELEASE_NULL(p)        do { if(p) { (p)-&gt;release(); (p) = 0; } } while(0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_SAFE_RETAIN(p)            do { if(p) { (p)-&gt;retain(); } } while(0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CC_BREAK_IF(cond)            if(cond) break
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define __CCLOGWITHFUNCTION(s, ...) \
</span></span></span><span class="line"><span class="cl"><span class="cp">    CCLog(&#34;%s : %s&#34;,__FUNCTION__, CCString::createWithFormat(s, ##__VA_ARGS__)-&gt;getCString())
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//这个宏定义要注意大小写, 会很容易和cocos2d::CCLog弄错, 因为代码提示的问题.
</span></span></span><span class="line"><span class="cl"><span class="c1">// cocos2d debug
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#if !defined(COCOS2D_DEBUG) || COCOS2D_DEBUG == 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOG(...)       do {} while (0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOGINFO(...)   do {} while (0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOGERROR(...)  do {} while (0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOGWARN(...)   do {} while (0)
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#elif COCOS2D_DEBUG == 1
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOG(format, ...)      cocos2d::CCLog(format, ##__VA_ARGS__)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOGERROR(format,...)  cocos2d::CCLog(format, ##__VA_ARGS__)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOGINFO(format,...)   do {} while (0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOGWARN(...) __CCLOGWITHFUNCTION(__VA_ARGS__)
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#elif COCOS2D_DEBUG &gt; 1
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOG(format, ...)      cocos2d::CCLog(format, ##__VA_ARGS__)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOGERROR(format,...)  cocos2d::CCLog(format, ##__VA_ARGS__)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOGINFO(format,...)   cocos2d::CCLog(format, ##__VA_ARGS__)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CCLOGWARN(...) __CCLOGWITHFUNCTION(__VA_ARGS__)
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif </span><span class="c1">// COCOS2D_DEBUG
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// Lua engine debug
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#if !defined(COCOS2D_DEBUG) || COCOS2D_DEBUG == 0 || CC_LUA_ENGINE_DEBUG == 0
</span></span></span><span class="line"><span class="cl"><span class="cp">#define LUALOG(...)
</span></span></span><span class="line"><span class="cl"><span class="cp">#else
</span></span></span><span class="line"><span class="cl"><span class="cp">#define LUALOG(format, ...)     cocos2d::CCLog(format, ##__VA_ARGS__)
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif </span><span class="c1">// Lua engine debug
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//定义废弃(deprecated)属性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#if defined(__GNUC__) &amp;&amp; ((__GNUC__ &gt;= 4) || ((__GNUC__ == 3) &amp;&amp; (__GNUC_MINOR__ &gt;= 1)))
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define CC_DEPRECATED_ATTRIBUTE __attribute__((deprecated))
</span></span></span><span class="line"><span class="cl"><span class="cp">#elif _MSC_VER &gt;= 1400 </span><span class="c1">//vs 2005 or higher
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="cp">#define CC_DEPRECATED_ATTRIBUTE __declspec(deprecated) 
</span></span></span><span class="line"><span class="cl"><span class="cp">#else
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="cp">#define CC_DEPRECATED_ATTRIBUTE
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif 
</span></span></span></code></pre></td></tr></table>
</div>
</div>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content"></span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2012-12-17
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/post/2012-12-21-cocosbuilder-step-by-step-part-one/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">一步一步CocosBuilder(1)</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/2012-12-17-cocos2d-x-source-code-research-1-ccplatformconfig-dot-h/">
            <span class="next-text nav-default">2d-x深读1:CCPlatformConfig.h</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://github.com/young40" class="iconfont icon-github" title="github"></a>
      <a href="https://weibo.com/n/%e6%9d%a8%e4%b8%96%e7%8e%b2" class="iconfont icon-weibo" title="weibo"></a>
      <a href="https://www.zhihu.com/people/young40" class="iconfont icon-zhihu" title="zhihu"></a>
  
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>

  <span class="division">|</span>

  <span class="theme-info">
      Network by
      <a class="theme-link" href="https://www.netlify.com">Netlify</a>
  </span>

  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2012 - 
    2025<span class="heart"><i class="iconfont icon-heart"></i></span><span>杨世玲</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>





  

</body>
</html>
