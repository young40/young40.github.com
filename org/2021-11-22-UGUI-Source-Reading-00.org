#+TITLE: UGUIæºç åˆ†æ(é›¶): ç¯å¢ƒæ­å»º
#+HUGO_TAGS: Unity UGUI
#+HUGO_CATEGORIES: UGUIæºç åˆ†æ
#+DATE: 2021-11-22T16:36:17+08:00
#+HUGO_AUTO_SET_LASTMOD: t
#+HUGO_DRAFT: false
#+HUGO_BASE_DIR: ../../
#+OPTIONS: author:nil

æœ‰é“æ˜¯, å·¥æ¬²å–„å…¶äº‹, å¿…å…ˆåˆ©å…¶å™¨. æƒ³ç ”ç©¶ä»£ç , æœ€å¥½ä¸è¿‡çš„æ–¹å¼å°±æ˜¯è¾¹ä¿®æ”¹è¾¹è¿è¡Œçœ‹çœ‹æ•ˆæœ, ç ”ç©¶UGUIè‡ªç„¶ä¹Ÿä¸ä¾‹å¤–.
æˆ‘ä»¬å…ˆçœ‹ä¸‹å¦‚ä½•æ­å»ºä¸€ä¸ªå¯ä»¥ä¿®æ”¹è°ƒè¯•UGUIç¯å¢ƒ.
# more

* ç‰ˆæœ¬çš„é€‰æ‹©
Unityåœ¨2019.1åŠä¹‹å‰ç‰ˆæœ¬, ä»¥dllçš„å½¢å¼æä¾›UGUI, å¹¶åœ¨GitHubæä¾›äº†UGUIçš„C#æºç ä¸‹è½½(åœ°å€: https://github.com/Unity-Technologies/uGUI).

2019.2åŠä»¥åç‰ˆæœ¬, ä½¿ç”¨PackageManagerçš„å½¢å¼æä¾›UGUIåŠå…¶æºç , ä½†è¿˜æ˜¯ä¸æ–¹ä¾¿è¿›è¡Œä¿®æ”¹å’Œè°ƒè¯•. 

åœ¨å½“å‰æœ€æ–°çš„2021.2.3f1ç‰ˆæœ¬, UGUIçš„éƒ¨åˆ†Textç›¸å…³æ§ä»¶è¢«æ ‡è®°ä¸ºLegacy, å–è€Œä»£ä¹‹çš„æ˜¯ç”±TextMeshProæä¾›ç›¸å…³æ§ä»¶. TextMeshProçš„ä¼˜ç‚¹ä¸å†èµ˜è¿°,
é‰´äºæ­¤æƒ…å†µ, ç ”ç©¶UGUI, ä¹Ÿè¦æŠŠTextMeshProä¸€å¹¶ç ”ç©¶.

æˆ‘é€‰æ‹©äº†å½“å‰æœ€æ–°çš„2021.2.3f1ç‰ˆæœ¬(macOS), ç›¸ä¿¡ç¯å¢ƒæ­å»ºä¹Ÿé€‚ç”¨2019.2ä»¥åç‰ˆæœ¬. è‡³äº2019.1åŠä»¥å‰ç‰ˆæœ¬, ç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹, å¤§å®¶å¯ä»¥å‚è€ƒä¸€ä¸‹.

* æ“ä½œæ­¥éª¤
*** 1. æ–°å»ºé¡¹ç›®
ä½¿ç”¨2021.2.3f1ç‰ˆæœ¬æ–°å»ºé¡¹ç›®, å»ºè®®ç”¨gitå°†é¡¹ç›®æ‰˜ç®¡èµ·æ¥, æ–¹ä¾¿æŸ¥çœ‹åŠä¿å­˜ä¿®æ”¹è®°å½•.
*** 2. å¯¼å…¥TextMeshProæ’ä»¶èµ„æº
ä»èœå• =Window => TextMeshPro => Import TMP Essential Resources= å¯¼å…¥TextMeshProæ’ä»¶èµ„æº.
    
*** 3. å¤åˆ¶æ’ä»¶
æˆ‘ä»¬éœ€è¦å°†UGUIå’ŒTextMeshProæ’ä»¶å…ˆä¿å­˜èµ·æ¥. æ­£å¸¸æ‰“å¼€ä¸Šä¸€æ­¥ä¸­æ–°å»ºçš„é¡¹ç›®, å°†é¡¹ç›®ç›®å½•ä¸‹Library/PackageCacheä¸‹
=com.unity.ugui@1.0.0=, =com.unity.textmeshpro@3.0.6=, =com.unity.visualscripting@1.7.5= ç›®å½•, å¤åˆ¶åˆ°é¡¹ç›®Assetsç›®å½•.
å¯ä»¥å°†ç›®å½•é‡å‘½åä¸ºæ›´ç®€å•çš„åå­—, æ–¹ä¾¿ååºä½¿ç”¨.

*** 4. åˆ é™¤æ’ä»¶å¼•ç”¨
ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ =Packages/manifest.json= åˆ é™¤å¦‚ä¸‹æ’ä»¶:

="com.unity.textmeshpro": "3.0.6"=

="com.unity.ugui": "1.0.0"=

="com.unity.visualscripting": "1.7.5"=.

å¯ä»¥å°†Unityç¼–è¾‘å™¨é‡å¯, ä»¥å‡å°‘å¯èƒ½é‡åˆ°çš„é—®é¢˜.

#+begin_quote
è¿™é‡Œå°† =visualscripting= ä¹Ÿåˆ é™¤æ˜¯å› ä¸º =visualscripting= ä¾èµ–äº†UGUI, ä¼šè‡ªåŠ¨å¼•å…¥UGUI(å³ä½¿æˆ‘ä»¬åˆ é™¤äº†UGUIçš„æƒ…å†µä¸‹).

æœªæ¥ä¸æ’é™¤æœ‰æ›´å¤šæ’ä»¶ä¾èµ–UGUI, å¯ä»¥æŸ¥çœ‹ä¾èµ–å…³ç³»å, ä¹ŸåŒæ ·åšåˆ é™¤æ“ä½œ.
#+end_quote
*** 5. éªŒè¯
ä¿®æ”¹ UGUIç›®å½•ä¸‹ =Runtime/UI/Core/Button.cs= , æ‰¾åˆ° =Press()= å‡½æ•°, ç»™å…¶å¢åŠ ä¸€è¡Œæ—¥å¿—æ‰“å°.

#+begin_src csharp
  private void Press()
  {
      Debug.Log("Hello UGUI Button."); // æ–°å¢æ—¥å¿—è¡Œ
      
      if (!IsActive() || !IsInteractable())
          return;
  
      UISystemProfilerApi.AddMarker("Button.onClick", this);
      m_OnClick.Invoke();
  }  
#+end_src

ç»™åœºæ™¯ä¸­å¢åŠ ä¸€ä¸ª =Button= , è¿è¡Œåç‚¹å‡»ä¸€ä¸‹, çœ‹ä¸‹æ—¥å¿—çª—å£æ˜¯å¦æœ‰æ–°çš„æ—¥å¿—æ‰“å°å§!

* å¾…ä¿®å¤(å¡«å‘)é—®é¢˜
TODO: TextMeshPro çš„æ–‡å­—å¯¹é½çš„ icon æ˜¾ç¤ºæœ‰é—®é¢˜.  

* å°½æƒ…å†²æµª
å¿«æ¥ä¸€èµ·åœ¨UGUIä¸­å°½æƒ…å†²æµªğŸ„â€â™€ï¸ğŸ„å§.  
